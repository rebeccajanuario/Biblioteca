@startuml
!define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.4.0
!includeurl ICONURL/devicons/javascript_badge.puml

package "Backend (JavaScript)" {
    class IControllerFactory {
        +createIngressoController() : IngressoController
        +createLivroController() : LivroController
        +createEventoController() : EventoController
    }

    class ConcreteControllerFactory {
        +createIngressoController() : IngressoController
        +createLivroController() : LivroController
        +createEventoController() : EventoController
    }

    interface IController {
        +reservar()
        +cancelar()
    }

    class IngressoController implements IController {
        +reservarIngresso()
        +cancelarIngresso()
    }

    class LivroController implements IController {
        +reservarLivro()
        +cancelarLivro()
    }

    class EventoController {
        +criarEvento()
        +atualizarEvento()
        +deletarEvento()
    }

    ConcreteControllerFactory -up-|> IControllerFactory
    ConcreteControllerFactory --> IngressoController
    ConcreteControllerFactory --> LivroController
    ConcreteControllerFactory --> EventoController

    IngressoController --> ServicoReserva : usa
    LivroController --> ServicoReserva : usa
    EventoController --> ServicoAutenticacao : usa
}

package "ServiÃ§os (JavaScript)" {
    class ServicoAutenticacao {
        +autenticar()
        +autorizar()
    }

    class ServicoReserva {
        +processarReservaIngresso()
        +processarReservaLivro()
    }

    class ServicoBancoDeDados {
        +salvarReserva()
        +obterReserva()
        +deletarReserva()
    }

    ServicoReserva --> ServicoBancoDeDados : usa
}

package "Processador de Reservas (JavaScript)" {
    class ProcessadorReserva {
        +confirmarReserva()
        +rejeitarReserva()
    }

    ProcessadorReserva --> ServicoReserva : comunica resultado das reservas
    ProcessadorReserva --> ServicoBancoDeDados : usa
}
@enduml
