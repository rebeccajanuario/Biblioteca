@startuml
!define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.4.0
!includeurl ICONURL/devicons/javascript_badge.puml

package "Backend (JavaScript)" {
    class IngressoController {
        -strategy : IReservaStrategy
        +IngressController(strategy: IReservaStrategy)
        +reservar()
        +cancelar()
    }

    class LivroController {
        -strategy : IReservaStrategy
        +LivroController(strategy: IReservaStrategy)
        +reservar()
        +cancelar()
    }

    interface IReservaStrategy {
        +processarReserva()
        +cancelarReserva()
    }

    class ReservaIngressoStrategy {
        +processarReserva()
        +cancelarReserva()
    }

    class ReservaLivroStrategy {
        +processarReserva()
        +cancelarReserva()
    }

    class EventoController {
        +criarEvento()
        +atualizarEvento()
        +deletarEvento()
    }

    IngressoController --> IReservaStrategy : usa
    LivroController --> IReservaStrategy : usa

    ReservaIngressoStrategy --> ServicoReserva : usa
    ReservaLivroStrategy --> ServicoReserva : usa
    EventoController --> ServicoAutenticacao : usa
}

package "ServiÃ§os (JavaScript)" {
    class ServicoAutenticacao {
        +autenticar()
        +autorizar()
    }

    class ServicoReserva {
        +processarReservaIngresso()
        +processarReservaLivro()
    }

    class ServicoBancoDeDados {
        +salvarReserva()
        +obterReserva()
        +deletarReserva()
    }

    ServicoReserva --> ServicoBancoDeDados : usa
}

package "Processador de Reservas (JavaScript)" {
    class ProcessadorReserva {
        +confirmarReserva()
        +rejeitarReserva()
    }

    ProcessadorReserva --> ServicoReserva : comunica resultado das reservas
    ProcessadorReserva --> ServicoBancoDeDados : usa
}
@enduml
